{% extends "base.html" %}

{% block header %}
	<h1>{% block title %}{{ book.title }}{% endblock %}</h1>
{% endblock %}

{% block content %}
	<img src="{{ url_for('books.cover', id=book.id, size='medium') }}" alt="Book Cover">
	<br>
	<p>Authors:</p>
	<ul>
		{% for author in book.authors %}
		<li>{{ author.name }}</li>
		{% endfor %}
	</ul>
	<p>Subjects:</p>
	<ul>
		{% for subject in book.subjects %}
		<li>{{ subject }}</li>
		{% endfor %}
	</ul>
	<h2>Read</h2>
	<a href="{{ url_for('books.read', id=book.id) }}">Click here to read "{{ book.title }}"</a>
	<br>
	<a href="https://www.gutenberg.org/ebooks/{{ book.id }}">Book info on Project Gutenberg</a>
	<!--a href="https://www.gutenberg.org/files/{{ book.id }}/{{ book.id }}-h/{{ book.id }}-h.htm">Read on Project Gutenberg</a-->
	<br>
	{% if g.user %}
		{% if bookmarked %}
			This book is already in your <a href="{{ url_for('books.bookshelf') }}">bookshelf</a>!
		{% else %}
			<form action="{{ url_for('books.bookshelf') }}" method="POST">
				<input type="hidden" id="action" name="action" value="add">
				<input type="hidden" id="book_id" name="book_id" value="{{ book.id }}">
				<input type="submit" value="Add to bookshelf">
			</form>
		{% endif %}
	{% else %}
		<a href="{{ url_for('auth.login') }}">Log in</a> to add to your bookshelf.
	{% endif %}
{% endblock %}
